{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/dataset/index.js","node_modules/md5/index.js","index.js"],"names":[],"mappings":"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AA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GAGA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,UAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,SAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,UAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GAGA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,UAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,SAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,UAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GAGA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,EA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","file":"xdls-0.1.3.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports=dataset;\n\n/*global document*/\n\n\n// replace namesLikeThis with names-like-this\nfunction toDashed(name) {\n  return name.replace(/([A-Z])/g, function(u) {\n    return \"-\" + u.toLowerCase();\n  });\n}\n\nvar fn;\n\nif (document.head && document.head.dataset) {\n  fn = {\n    set: function(node, attr, value) {\n      node.dataset[attr] = value;\n    },\n    get: function(node, attr) {\n      return node.dataset[attr];\n    },\n    del: function (node, attr) {\n      delete node.dataset[attr];\n    }\n  };\n} else {\n  fn = {\n    set: function(node, attr, value) {\n      node.setAttribute('data-' + toDashed(attr), value);\n    },\n    get: function(node, attr) {\n      return node.getAttribute('data-' + toDashed(attr));\n    },\n    del: function (node, attr) {\n      node.removeAttribute('data-' + toDashed(attr));\n    }\n  };\n}\n\nfunction dataset(node, attr, value) {\n  var self = {\n    set: set,\n    get: get,\n    del: del\n  };\n\n  function set(attr, value) {\n    fn.set(node, attr, value);\n    return self;\n  }\n\n  function del(attr) {\n    fn.del(node, attr);\n    return self;\n  }\n\n  function get(attr) {\n    return fn.get(node, attr);\n  }\n\n  if (arguments.length === 3) {\n    return set(attr, value);\n  }\n  if (arguments.length == 2) {\n    return get(attr);\n  }\n\n  return self;\n}\n","(function () {\n  \"use strict\";\n/**\n * md5.js\n * Copyright (c) 2011, Yoshinori Kohyama (http://algobit.jp/)\n * all rights reserved.\n */\n\nexports.digest = function (M) {\n  var originalLength\n    , i\n    , j\n    , k\n    , l\n    , A\n    , B\n    , C\n    , D\n    , AA\n    , BB\n    , CC\n    , DD\n    , X\n    , rval\n    ;\n\n\tfunction F(x, y, z) { return (x & y) | (~x & z); }\n\tfunction G(x, y, z) { return (x & z) | (y & ~z); }\n\tfunction H(x, y, z) { return x ^ y ^ z;          }\n\tfunction I(x, y, z) { return y ^ (x | ~z);       }\n\n\tfunction to4bytes(n) {\n\t\treturn [n&0xff, (n>>>8)&0xff, (n>>>16)&0xff, (n>>>24)&0xff];\n\t}\n\n\toriginalLength = M.length; // for Step.2\n\n\t// 3.1 Step 1. Append Padding Bits\n\tM.push(0x80);\n\tl = (56 - M.length)&0x3f;\n\tfor (i = 0; i < l; i++)\n\t\tM.push(0);\n\n\t// 3.2 Step 2. Append Length\n\tto4bytes(8*originalLength).forEach(function (e) { M.push(e); });\n\t[0, 0, 0, 0].forEach(function (e) { M.push(e); });\n\n\t// 3.3 Step 3. Initialize MD Buffer\n\tA = [0x67452301];\n\tB = [0xefcdab89];\n\tC = [0x98badcfe];\n\tD = [0x10325476];\n\n\t// 3.4 Step 4. Process Message in 16-Word Blocks\n\tfunction rounds(a, b, c, d, k, s, t, f) {\n\t\ta[0] += f(b[0], c[0], d[0]) + X[k] + t;\n\t\ta[0] = ((a[0]<<s)|(a[0]>>>(32 - s)));\n\t\ta[0] += b[0];\n\t}\n\n\tfor (i = 0; i < M.length; i += 64) {\n\t\tX = [];\n\t\tfor (j = 0; j < 64; j += 4) {\n\t\t\tk = i + j;\n\t\t\tX.push(M[k]|(M[k + 1]<<8)|(M[k + 2]<<16)|(M[k + 3]<<24));\n\t\t}\n\t\tAA = A[0];\n\t\tBB = B[0];\n\t\tCC = C[0];\n\t\tDD = D[0];\n\n\t\t// Round 1.\n\t\trounds(A, B, C, D,  0,  7, 0xd76aa478, F);\n\t\trounds(D, A, B, C,  1, 12, 0xe8c7b756, F);\n\t\trounds(C, D, A, B,  2, 17, 0x242070db, F);\n\t\trounds(B, C, D, A,  3, 22, 0xc1bdceee, F);\n\t\trounds(A, B, C, D,  4,  7, 0xf57c0faf, F);\n\t\trounds(D, A, B, C,  5, 12, 0x4787c62a, F);\n\t\trounds(C, D, A, B,  6, 17, 0xa8304613, F);\n\t\trounds(B, C, D, A,  7, 22, 0xfd469501, F);\n\t\trounds(A, B, C, D,  8,  7, 0x698098d8, F);\n\t\trounds(D, A, B, C,  9, 12, 0x8b44f7af, F);\n\t\trounds(C, D, A, B, 10, 17, 0xffff5bb1, F);\n\t\trounds(B, C, D, A, 11, 22, 0x895cd7be, F);\n\t\trounds(A, B, C, D, 12,  7, 0x6b901122, F);\n\t\trounds(D, A, B, C, 13, 12, 0xfd987193, F);\n\t\trounds(C, D, A, B, 14, 17, 0xa679438e, F);\n\t\trounds(B, C, D, A, 15, 22, 0x49b40821, F);\n\n\t\t// Round 2.\n\t\trounds(A, B, C, D,  1,  5, 0xf61e2562, G);\n\t\trounds(D, A, B, C,  6,  9, 0xc040b340, G);\n\t\trounds(C, D, A, B, 11, 14, 0x265e5a51, G);\n\t\trounds(B, C, D, A,  0, 20, 0xe9b6c7aa, G);\n\t\trounds(A, B, C, D,  5,  5, 0xd62f105d, G);\n\t\trounds(D, A, B, C, 10,  9, 0x02441453, G);\n\t\trounds(C, D, A, B, 15, 14, 0xd8a1e681, G);\n\t\trounds(B, C, D, A,  4, 20, 0xe7d3fbc8, G);\n\t\trounds(A, B, C, D,  9,  5, 0x21e1cde6, G);\n\t\trounds(D, A, B, C, 14,  9, 0xc33707d6, G);\n\t\trounds(C, D, A, B,  3, 14, 0xf4d50d87, G);\n\t\trounds(B, C, D, A,  8, 20, 0x455a14ed, G);\n\t\trounds(A, B, C, D, 13,  5, 0xa9e3e905, G);\n\t\trounds(D, A, B, C,  2,  9, 0xfcefa3f8, G);\n\t\trounds(C, D, A, B,  7, 14, 0x676f02d9, G);\n\t\trounds(B, C, D, A, 12, 20, 0x8d2a4c8a, G);\n\n\t\t// Round 3.\n\t\trounds(A, B, C, D,  5,  4, 0xfffa3942, H);\n\t\trounds(D, A, B, C,  8, 11, 0x8771f681, H);\n\t\trounds(C, D, A, B, 11, 16, 0x6d9d6122, H);\n\t\trounds(B, C, D, A, 14, 23, 0xfde5380c, H);\n\t\trounds(A, B, C, D,  1,  4, 0xa4beea44, H);\n\t\trounds(D, A, B, C,  4, 11, 0x4bdecfa9, H);\n\t\trounds(C, D, A, B,  7, 16, 0xf6bb4b60, H);\n\t\trounds(B, C, D, A, 10, 23, 0xbebfbc70, H);\n\t\trounds(A, B, C, D, 13,  4, 0x289b7ec6, H);\n\t\trounds(D, A, B, C,  0, 11, 0xeaa127fa, H);\n\t\trounds(C, D, A, B,  3, 16, 0xd4ef3085, H);\n\t\trounds(B, C, D, A,  6, 23, 0x04881d05, H);\n\t\trounds(A, B, C, D,  9,  4, 0xd9d4d039, H);\n\t\trounds(D, A, B, C, 12, 11, 0xe6db99e5, H);\n\t\trounds(C, D, A, B, 15, 16, 0x1fa27cf8, H);\n\t\trounds(B, C, D, A,  2, 23, 0xc4ac5665, H);\n\n\t\t// Round 4.\n\t\trounds(A, B, C, D,  0,  6, 0xf4292244, I);\n\t\trounds(D, A, B, C,  7, 10, 0x432aff97, I);\n\t\trounds(C, D, A, B, 14, 15, 0xab9423a7, I);\n\t\trounds(B, C, D, A,  5, 21, 0xfc93a039, I);\n\t\trounds(A, B, C, D, 12,  6, 0x655b59c3, I);\n\t\trounds(D, A, B, C,  3, 10, 0x8f0ccc92, I);\n\t\trounds(C, D, A, B, 10, 15, 0xffeff47d, I);\n\t\trounds(B, C, D, A,  1, 21, 0x85845dd1, I);\n\t\trounds(A, B, C, D,  8,  6, 0x6fa87e4f, I);\n\t\trounds(D, A, B, C, 15, 10, 0xfe2ce6e0, I);\n\t\trounds(C, D, A, B,  6, 15, 0xa3014314, I);\n\t\trounds(B, C, D, A, 13, 21, 0x4e0811a1, I);\n\t\trounds(A, B, C, D,  4,  6, 0xf7537e82, I);\n\t\trounds(D, A, B, C, 11, 10, 0xbd3af235, I);\n\t\trounds(C, D, A, B,  2, 15, 0x2ad7d2bb, I);\n\t\trounds(B, C, D, A,  9, 21, 0xeb86d391, I);\n\n\t\tA[0] += AA;\n\t\tB[0] += BB;\n\t\tC[0] += CC;\n\t\tD[0] += DD;\n\t}\n\n\trval = [];\n\tto4bytes(A[0]).forEach(function (e) { rval.push(e); });\n\tto4bytes(B[0]).forEach(function (e) { rval.push(e); });\n\tto4bytes(C[0]).forEach(function (e) { rval.push(e); });\n\tto4bytes(D[0]).forEach(function (e) { rval.push(e); });\n\n\treturn rval;\n}\n\nexports.digest_s = function (s) {\n\tvar M = []\n    , i\n    , d\n    , rstr\n    , s\n    ;\n\n\tfor (i = 0; i < s.length; i++)\n\t\tM.push(s.charCodeAt(i));\n\n\td = exports.digest(M);\n\trstr = '';\n\n\td.forEach(function (e) {\n\t\ts = e.toString(16);\n\t\twhile (s.length < 2)\n\t\t\ts = '0' + s;\n\t\trstr += s;\n\t});\n\n\treturn rstr;\n}\n\n}());\n","'use strict';\n\nmodule.exports = XDLS;\n\nvar md5 = require( 'md5' );\nvar dataset = require( 'dataset' );\n\nvar PREFIX = 'xdls:';\n\n// must match localforage\nvar METHODS = [\n    'clear',\n    'getItem',\n    'key',\n    'keys',\n    'length',\n    'removeItem',\n    'setItem'  \n];\n\nfunction XDLS( options ) {\n    this.origin = options.origin;\n    this.path = options.path;\n    this.ready = false;\n    this.queue = [];\n    this.messageId = 0;\n    this.callbacks = {};\n    \n    if ( !( this.origin && this.path ) ) {\n        throw new Error( 'XDLS needs both an origin and a path specified in the constructor options.' );\n    }\n    \n    for ( var i = 0; i < METHODS.length; ++i ) {\n        this[ METHODS[ i ] ] = this._handleMethod.bind( this, METHODS[ i ] );\n    }\n    \n    if ( typeof( options.init ) === 'undefined' || options.init ) {\n        this.init();\n    }\n}\n\nXDLS.prototype.init = function() {\n    var self = this;\n    \n    if ( self._iframe ) {\n        return;\n    }\n    \n    if ( !( window.postMessage && window.JSON ) ) {\n        throw new Error( 'XDLS requires both postMossage and JSON support.' );\n    }\n\n    var onLoaded = self._onLoaded.bind( self );\n    var onMessage = self._onMessage.bind( self );\n\n    var iframeID = 'xdls-' + md5.digest_s( self.origin + self.path );\n    \n    var existingIframe = document.getElementById( iframeID );\n    if ( existingIframe ) {\n        self._iframe = existingIframe;\n        if ( dataset( self._iframe, 'loaded' ) ) {\n            onLoaded();\n        }\n    }\n    else {\n        self._iframe = document.createElement( 'iframe' );\n        self._iframe.id = iframeID;\n        self._iframe.setAttribute( 'sandbox', 'allow-scripts allow-same-origin' );\n        dataset( self._iframe, 'origin', self.origin );\n        dataset( self._iframe, 'path', self.path );\n        self._iframe.style.cssText = \"width:1px; height:1px; display: none;\";\n        document.body.appendChild( self._iframe );\n    }\n\n    if ( window.addEventListener ) {\n        self._iframe.addEventListener( 'load', onLoaded, false );\n        window.addEventListener( 'message', onMessage, false );\n    }\n    else if ( self._iframe.attachEvent ) {\n        self._iframe.attachEvent( 'onload', onLoaded, false);\n        window.attachEvent( 'onmessage', onMessage );\n    }\n    else {\n        throw new Error( 'XDLS could not properly bind for event handling.' );\n    }\n\n    if ( !existingIframe ) {\n        self._iframe.src = self.origin + self.path;\n    }\n};\n\nXDLS.prototype._onLoaded = function() {\n    var self = this;\n    \n    self.ready = true;\n    dataset( self._iframe, 'loaded', true );\n    \n    var message;\n    while ( ( message = self.queue.shift() ) ) {\n        self._sendMessage( message );\n    }\n};\n\nXDLS.prototype._handleMethod = function() {\n    var self = this;\n    var _args = Array.prototype.slice.call( arguments, 0 ); // convert arguments to an array\n    var method = _args.shift();\n    var callback = null;\n    \n    self.init();\n    \n    if ( _args.length && typeof( _args[ _args.length - 1 ] ) === 'function' ) {\n        callback = _args.pop();\n    }\n\n    var id = ++self.messageId;\n    \n    if ( callback ) {\n        self.callbacks[ id ] = callback;\n    }\n\n    var message = {\n        id: id,\n        method: method,\n        arguments: _args\n    };\n    \n    if ( self.ready ) {\n        self._sendMessage( message );\n    }\n    else {\n        self.queue.push( message );\n    }\n};\n\nXDLS.prototype._sendMessage = function( message ) {\n    var self = this;\n    self._iframe.contentWindow.postMessage( PREFIX + JSON.stringify( message ), self.origin );\n};\n\nXDLS.prototype._onMessage = function( event ) {\n    var self = this;\n    \n    if ( ( !event.origin || self.origin.indexOf( event.origin ) === -1 ) || ( !event.data || event.data.indexOf( PREFIX ) !== 0 ) ) {\n        return;\n    }\n    \n    var data = JSON.parse( event.data.substring( PREFIX.length ) );\n    \n    if ( self.callbacks[ data.id ] ) {\n        if ( data.error ) {\n            self.callbacks[ data.id ]( data );\n        }\n        else {\n            self.callbacks[ data.id ]( null, data.result );\n        }\n\n        delete self.callbacks[ data.id ];\n    }\n};\n"],"sourceRoot":"/source/"}