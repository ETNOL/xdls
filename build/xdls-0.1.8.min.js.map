{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/dataset/index.js","xdls-0.1.8.min.js","node_modules/md5/index.js","index.js"],"names":["require","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length",1,"module","toDashed","name","replace","toLowerCase","dataset","node","attr","value","set","fn","self","del","get","arguments","document","head","setAttribute","getAttribute","removeAttribute",2,"digest","M","F","x","y","z","G","H","I","to4bytes","rounds","b","c","d","k","X","originalLength","j","A","B","C","D","AA","BB","CC","DD","rval","push","forEach","digest_s","rstr","charCodeAt","toString","xdls","XDLS","options","this","origin","host","path","ready","queue","messageId","callbacks","instanceId","_instanceId","METHODS","_handleMethod","bind","init","md5","PREFIX","prototype","_iframe","window","postMessage","JSON","onLoaded","_onLoaded","onMessage","_onMessage","iframeID","existingIframe","getElementById","createElement","id","style","cssText","_addIframe","body","appendChild","setTimeout","addEventListener","attachEvent","src","message","shift","_sendMessage","_args","Array","slice","method","callback","pop","contentWindow","stringify","event","indexOf","data","parse","substring","error","result"],"mappings":"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","file":"xdls-0.1.8.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports=dataset;\n\n/*global document*/\n\n\n// replace namesLikeThis with names-like-this\nfunction toDashed(name) {\n  return name.replace(/([A-Z])/g, function(u) {\n    return \"-\" + u.toLowerCase();\n  });\n}\n\nvar fn;\n\nif (typeof document !== \"undefined\" && document.head && document.head.dataset) {\n  fn = {\n    set: function(node, attr, value) {\n      node.dataset[attr] = value;\n    },\n    get: function(node, attr) {\n      return node.dataset[attr];\n    },\n    del: function (node, attr) {\n      delete node.dataset[attr];\n    }\n  };\n} else {\n  fn = {\n    set: function(node, attr, value) {\n      node.setAttribute('data-' + toDashed(attr), value);\n    },\n    get: function(node, attr) {\n      return node.getAttribute('data-' + toDashed(attr));\n    },\n    del: function (node, attr) {\n      node.removeAttribute('data-' + toDashed(attr));\n    }\n  };\n}\n\nfunction dataset(node, attr, value) {\n  var self = {\n    set: set,\n    get: get,\n    del: del\n  };\n\n  function set(attr, value) {\n    fn.set(node, attr, value);\n    return self;\n  }\n\n  function del(attr) {\n    fn.del(node, attr);\n    return self;\n  }\n\n  function get(attr) {\n    return fn.get(node, attr);\n  }\n\n  if (arguments.length === 3) {\n    return set(attr, value);\n  }\n  if (arguments.length == 2) {\n    return get(attr);\n  }\n\n  return self;\n}\n",null,"(function () {\n  \"use strict\";\n/**\n * md5.js\n * Copyright (c) 2011, Yoshinori Kohyama (http://algobit.jp/)\n * all rights reserved.\n */\n\nexports.digest = function (M) {\n  var originalLength\n    , i\n    , j\n    , k\n    , l\n    , A\n    , B\n    , C\n    , D\n    , AA\n    , BB\n    , CC\n    , DD\n    , X\n    , rval\n    ;\n\n\tfunction F(x, y, z) { return (x & y) | (~x & z); }\n\tfunction G(x, y, z) { return (x & z) | (y & ~z); }\n\tfunction H(x, y, z) { return x ^ y ^ z;          }\n\tfunction I(x, y, z) { return y ^ (x | ~z);       }\n\n\tfunction to4bytes(n) {\n\t\treturn [n&0xff, (n>>>8)&0xff, (n>>>16)&0xff, (n>>>24)&0xff];\n\t}\n\n\toriginalLength = M.length; // for Step.2\n\n\t// 3.1 Step 1. Append Padding Bits\n\tM.push(0x80);\n\tl = (56 - M.length)&0x3f;\n\tfor (i = 0; i < l; i++)\n\t\tM.push(0);\n\n\t// 3.2 Step 2. Append Length\n\tto4bytes(8*originalLength).forEach(function (e) { M.push(e); });\n\t[0, 0, 0, 0].forEach(function (e) { M.push(e); });\n\n\t// 3.3 Step 3. Initialize MD Buffer\n\tA = [0x67452301];\n\tB = [0xefcdab89];\n\tC = [0x98badcfe];\n\tD = [0x10325476];\n\n\t// 3.4 Step 4. Process Message in 16-Word Blocks\n\tfunction rounds(a, b, c, d, k, s, t, f) {\n\t\ta[0] += f(b[0], c[0], d[0]) + X[k] + t;\n\t\ta[0] = ((a[0]<<s)|(a[0]>>>(32 - s)));\n\t\ta[0] += b[0];\n\t}\n\n\tfor (i = 0; i < M.length; i += 64) {\n\t\tX = [];\n\t\tfor (j = 0; j < 64; j += 4) {\n\t\t\tk = i + j;\n\t\t\tX.push(M[k]|(M[k + 1]<<8)|(M[k + 2]<<16)|(M[k + 3]<<24));\n\t\t}\n\t\tAA = A[0];\n\t\tBB = B[0];\n\t\tCC = C[0];\n\t\tDD = D[0];\n\n\t\t// Round 1.\n\t\trounds(A, B, C, D,  0,  7, 0xd76aa478, F);\n\t\trounds(D, A, B, C,  1, 12, 0xe8c7b756, F);\n\t\trounds(C, D, A, B,  2, 17, 0x242070db, F);\n\t\trounds(B, C, D, A,  3, 22, 0xc1bdceee, F);\n\t\trounds(A, B, C, D,  4,  7, 0xf57c0faf, F);\n\t\trounds(D, A, B, C,  5, 12, 0x4787c62a, F);\n\t\trounds(C, D, A, B,  6, 17, 0xa8304613, F);\n\t\trounds(B, C, D, A,  7, 22, 0xfd469501, F);\n\t\trounds(A, B, C, D,  8,  7, 0x698098d8, F);\n\t\trounds(D, A, B, C,  9, 12, 0x8b44f7af, F);\n\t\trounds(C, D, A, B, 10, 17, 0xffff5bb1, F);\n\t\trounds(B, C, D, A, 11, 22, 0x895cd7be, F);\n\t\trounds(A, B, C, D, 12,  7, 0x6b901122, F);\n\t\trounds(D, A, B, C, 13, 12, 0xfd987193, F);\n\t\trounds(C, D, A, B, 14, 17, 0xa679438e, F);\n\t\trounds(B, C, D, A, 15, 22, 0x49b40821, F);\n\n\t\t// Round 2.\n\t\trounds(A, B, C, D,  1,  5, 0xf61e2562, G);\n\t\trounds(D, A, B, C,  6,  9, 0xc040b340, G);\n\t\trounds(C, D, A, B, 11, 14, 0x265e5a51, G);\n\t\trounds(B, C, D, A,  0, 20, 0xe9b6c7aa, G);\n\t\trounds(A, B, C, D,  5,  5, 0xd62f105d, G);\n\t\trounds(D, A, B, C, 10,  9, 0x02441453, G);\n\t\trounds(C, D, A, B, 15, 14, 0xd8a1e681, G);\n\t\trounds(B, C, D, A,  4, 20, 0xe7d3fbc8, G);\n\t\trounds(A, B, C, D,  9,  5, 0x21e1cde6, G);\n\t\trounds(D, A, B, C, 14,  9, 0xc33707d6, G);\n\t\trounds(C, D, A, B,  3, 14, 0xf4d50d87, G);\n\t\trounds(B, C, D, A,  8, 20, 0x455a14ed, G);\n\t\trounds(A, B, C, D, 13,  5, 0xa9e3e905, G);\n\t\trounds(D, A, B, C,  2,  9, 0xfcefa3f8, G);\n\t\trounds(C, D, A, B,  7, 14, 0x676f02d9, G);\n\t\trounds(B, C, D, A, 12, 20, 0x8d2a4c8a, G);\n\n\t\t// Round 3.\n\t\trounds(A, B, C, D,  5,  4, 0xfffa3942, H);\n\t\trounds(D, A, B, C,  8, 11, 0x8771f681, H);\n\t\trounds(C, D, A, B, 11, 16, 0x6d9d6122, H);\n\t\trounds(B, C, D, A, 14, 23, 0xfde5380c, H);\n\t\trounds(A, B, C, D,  1,  4, 0xa4beea44, H);\n\t\trounds(D, A, B, C,  4, 11, 0x4bdecfa9, H);\n\t\trounds(C, D, A, B,  7, 16, 0xf6bb4b60, H);\n\t\trounds(B, C, D, A, 10, 23, 0xbebfbc70, H);\n\t\trounds(A, B, C, D, 13,  4, 0x289b7ec6, H);\n\t\trounds(D, A, B, C,  0, 11, 0xeaa127fa, H);\n\t\trounds(C, D, A, B,  3, 16, 0xd4ef3085, H);\n\t\trounds(B, C, D, A,  6, 23, 0x04881d05, H);\n\t\trounds(A, B, C, D,  9,  4, 0xd9d4d039, H);\n\t\trounds(D, A, B, C, 12, 11, 0xe6db99e5, H);\n\t\trounds(C, D, A, B, 15, 16, 0x1fa27cf8, H);\n\t\trounds(B, C, D, A,  2, 23, 0xc4ac5665, H);\n\n\t\t// Round 4.\n\t\trounds(A, B, C, D,  0,  6, 0xf4292244, I);\n\t\trounds(D, A, B, C,  7, 10, 0x432aff97, I);\n\t\trounds(C, D, A, B, 14, 15, 0xab9423a7, I);\n\t\trounds(B, C, D, A,  5, 21, 0xfc93a039, I);\n\t\trounds(A, B, C, D, 12,  6, 0x655b59c3, I);\n\t\trounds(D, A, B, C,  3, 10, 0x8f0ccc92, I);\n\t\trounds(C, D, A, B, 10, 15, 0xffeff47d, I);\n\t\trounds(B, C, D, A,  1, 21, 0x85845dd1, I);\n\t\trounds(A, B, C, D,  8,  6, 0x6fa87e4f, I);\n\t\trounds(D, A, B, C, 15, 10, 0xfe2ce6e0, I);\n\t\trounds(C, D, A, B,  6, 15, 0xa3014314, I);\n\t\trounds(B, C, D, A, 13, 21, 0x4e0811a1, I);\n\t\trounds(A, B, C, D,  4,  6, 0xf7537e82, I);\n\t\trounds(D, A, B, C, 11, 10, 0xbd3af235, I);\n\t\trounds(C, D, A, B,  2, 15, 0x2ad7d2bb, I);\n\t\trounds(B, C, D, A,  9, 21, 0xeb86d391, I);\n\n\t\tA[0] += AA;\n\t\tB[0] += BB;\n\t\tC[0] += CC;\n\t\tD[0] += DD;\n\t}\n\n\trval = [];\n\tto4bytes(A[0]).forEach(function (e) { rval.push(e); });\n\tto4bytes(B[0]).forEach(function (e) { rval.push(e); });\n\tto4bytes(C[0]).forEach(function (e) { rval.push(e); });\n\tto4bytes(D[0]).forEach(function (e) { rval.push(e); });\n\n\treturn rval;\n}\n\nexports.digest_s = function (s) {\n\tvar M = []\n    , i\n    , d\n    , rstr\n    , s\n    ;\n\n\tfor (i = 0; i < s.length; i++)\n\t\tM.push(s.charCodeAt(i));\n\n\td = exports.digest(M);\n\trstr = '';\n\n\td.forEach(function (e) {\n\t\ts = e.toString(16);\n\t\twhile (s.length < 2)\n\t\t\ts = '0' + s;\n\t\trstr += s;\n\t});\n\n\treturn rstr;\n}\n\n}());\n","'use strict';\n\nmodule.exports = XDLS;\n\nvar md5 = require( 'md5' );\nvar dataset = require( 'dataset' );\n\nvar PREFIX = 'xdls:';\n\n// must match localforage\nvar METHODS = [\n    'clear',\n    'getItem',\n    'key',\n    'keys',\n    'length',\n    'removeItem',\n    'setItem'  \n];\n\nvar _instanceId = 0;\n\nfunction XDLS( options ) {\n    this.origin = options.origin;\n    this.host = options.host;\n    this.path = options.path;\n    this.ready = false;\n    this.queue = [];\n    this.messageId = 0;\n    this.callbacks = {};\n    this.instanceId = _instanceId++;\n    \n    if ( !( this.origin && this.path ) ) {\n        throw new Error( 'XDLS needs both an origin and a path specified in the constructor options.' );\n    }\n    \n    for ( var i = 0; i < METHODS.length; ++i ) {\n        this[ METHODS[ i ] ] = this._handleMethod.bind( this, METHODS[ i ] );\n    }\n    \n    if ( typeof( options.init ) === 'undefined' || options.init ) {\n        this.init();\n    }\n}\n\nXDLS.prototype.init = function() {\n    var self = this;\n    \n    if ( self._iframe ) {\n        return;\n    }\n    \n    if ( !( window.postMessage && window.JSON ) ) {\n        throw new Error( 'XDLS requires both postMossage and JSON support.' );\n    }\n\n    var onLoaded = self._onLoaded.bind( self );\n    var onMessage = self._onMessage.bind( self );\n\n    var iframeID = 'xdls-' + md5.digest_s( self.host + self.path );\n    \n    var existingIframe = document.getElementById( iframeID );\n    if ( existingIframe ) {\n        self._iframe = existingIframe;\n        if ( dataset( self._iframe, 'loaded' ) ) {\n            onLoaded();\n        }\n    }\n    else {\n        self._iframe = document.createElement( 'iframe' );\n        self._iframe.id = iframeID;\n        self._iframe.setAttribute( 'sandbox', 'allow-scripts allow-same-origin' );\n        dataset( self._iframe, 'origin', self.origin );\n        dataset( self._iframe, 'path', self.path );\n        self._iframe.style.cssText = 'width:1px; height:1px; display: none;';\n        (function _addIframe() {\n            if ( document.body ) {\n                document.body.appendChild( self._iframe );\n                return;\n            }\n            \n            setTimeout( _addIframe, 100 );\n        })();\n    }\n\n    if ( window.addEventListener ) {\n        self._iframe.addEventListener( 'load', onLoaded, false );\n        window.addEventListener( 'message', onMessage, false );\n    }\n    else if ( self._iframe.attachEvent ) {\n        self._iframe.attachEvent( 'onload', onLoaded, false);\n        window.attachEvent( 'onmessage', onMessage );\n    }\n    else {\n        throw new Error( 'XDLS could not properly bind for event handling.' );\n    }\n\n    if ( !existingIframe ) {\n        self._iframe.src = self.origin + self.path;\n    }\n};\n\nXDLS.prototype._onLoaded = function() {\n    var self = this;\n    \n    self.ready = true;\n    dataset( self._iframe, 'loaded', true );\n    \n    var message;\n    while ( ( message = self.queue.shift() ) ) {\n        self._sendMessage( message );\n    }\n};\n\nXDLS.prototype._handleMethod = function() {\n    var self = this;\n    var _args = Array.prototype.slice.call( arguments, 0 ); // convert arguments to an array\n    var method = _args.shift();\n    var callback = null;\n    \n    self.init();\n    \n    if ( _args.length && typeof( _args[ _args.length - 1 ] ) === 'function' ) {\n        callback = _args.pop();\n    }\n\n    ++self.messageId;\n    var id = self.instanceId + '.' + self.messageId;\n    \n    if ( callback ) {\n        self.callbacks[ id ] = callback;\n    }\n\n    var message = {\n        id: id,\n        method: method,\n        arguments: _args\n    };\n    \n    if ( self.ready ) {\n        self._sendMessage( message );\n    }\n    else {\n        self.queue.push( message );\n    }\n};\n\nXDLS.prototype._sendMessage = function( message ) {\n    var self = this;\n    self._iframe.contentWindow.postMessage( PREFIX + JSON.stringify( message ), self.origin );\n};\n\nXDLS.prototype._onMessage = function( event ) {\n    var self = this;\n    \n    if ( ( !event.origin || self.origin.indexOf( event.origin ) === -1 ) || ( !event.data || event.data.indexOf( PREFIX ) !== 0 ) ) {\n        return;\n    }\n    \n    var data = JSON.parse( event.data.substring( PREFIX.length ) );\n    \n    if ( self.callbacks[ data.id ] ) {\n        if ( data.error ) {\n            self.callbacks[ data.id ]( data );\n        }\n        else {\n            self.callbacks[ data.id ]( null, data.result );\n        }\n\n        delete self.callbacks[ data.id ];\n    }\n};\n"],"sourceRoot":"/source/"}